--- WeakAura Strings ---
dqfqWaGiuupcPkXLqu1NquunkGYPaQwfkf9kefzwGWTqj7sP8lukzyOshdjvldPQEgcKPPIGRPIKTbIQVHOqJtfL6CkvkwhikVtPQ5HuL6Ei0(qu5GikOfIOa9quKMOksDruQ2isLpIsHgjc4KQiQvIQEjIcyMkvkDtukyNQO4NQOedvPsYsrsXtrqtfvCveO2QsLuFvfLKgRkkjolsvsVvfHMRkkPURkISxu4VkvIblhwLwmkIhdLjJexwvBgr(SsfJgKoTIEniYSbCBGSBO63kz4ikTCfEoOMoKRRcBxfvFxPs14rkNhjz9ikkVhLsnFKu6(ivX(PzqDgCyqiigesHbHuyWHbHKw4icNKzpJZq9tGbHuMWKf4sfNNgIbHKhJbHyhWOfiopnedcjDGJHMlCWaxEZmJflB3UWUatYS3UhJ72JFU8MzgWc7cyWOlAIzeT7X4Ulp(5BWOlAITxEZmdyHDbmS14nI29yC3Lh)8nS143lVzMnjzSXhXzc6bdCJCg2A8BiOJfcb8gc6JlVzMzMzSyz72f2fysM9gDJlO3OBs7Py767yEzcWdlVzMzMztsg(czem(eXoTjmcgmy0fnX2oWNiWT1Wiy8j6KHPBmFCkGXmzbUu9dMHWGrx0eB7aFIa3qqFCB8OJbUXm9(mlJD8hevgN7yNhroM3BpoL9YBMzMzgWc7cyyhJXJJyJe8jFAJOrW4teBKGp5tdgm6IMyBh4te4YBMzMzgWc7cyyhJXJJiWFbqqnIgbJpre4VaiOGbJUOj22b(eb(E5nZmZmdyHDbmSJX4XrCMGEJOXgFeNjOhmW3lVzMzMzYBMzMzglwSK3mZmZmwSyzmDnEJUdCm0CHdlVzMzMzSyXsEZmZmZawyxaJ0bogAUWTXd)idmWL3mZmZmZmdBn(TjoP1gWfgX5o25rgrd7ymECeBKGp5tVxEZmZmZmZmS143M4KwBGU0iWFbqqnIgbJpre4VaiOSHlnWGrx0eB7aFIaFV8MzMzMzMzyRXVnXjT2aUWic8xaeuJOHDmgpoIa)fabDV8MzMzMzMzyRXVnXjT2aUWiQ5HFKr0WogJhhXzc63lVzMzMzMzg2A8Be4VaiOeycJwdQmIgBtp7L3mZmZmZmdBn(nSlg03iA4tG9YBMzMz2JtrEZmZmZK3mZmZmGf2fWiDGJHMlC7GSuUONa)fabLaty0AqLbg0)cGGcU8MzMzMzMzalSlGD(f44HnIg2A8Bq)lackbMWO1GQ9YBMzMzMzMbSWUagAc6nIg2Xy84iotqVXYWwJFBItATbCHruZd)O9YBMzMzMzMjVzMzMzMzg6YeGFBId)deyNFboEyimQdHX2OjOhcd6FbqqPhW3lVzMzMzMzM8MzMzMzMzyRXVHDXG(grdFcSxEZmZmZmZm5nZmZmZmZ2DOtG3aJE58lWXdBKZGrx0eBd(rOj(oWBqNWO1GkMUoWrGBRHbgAc6nw25xGJh(ePxo)cC8WN0js9tYiNbJUOj2g8Jqt8DG3GoHrRbvCMGEWnkl5nZmZmZmZmZm0Lja)24bTo)b78lWXdd(E5nZmZmZmZECkYBMzMzMzMHTg)2eN0Ad4cJiWFbqqnIg0)cGGUxEZmZmZECkYBMzMzM8MzMzMbSWUagPdCm0CHByxaSdGl6nWi7pWEC0DNhC5nZmZmZmZawyxad(Xw4uGnIg39YBMzMzMzMbSWUa25xGJh2iAyRXVb9VaiOeycJwdQ2lVzMzMzMzgWc7cy4grJE58lWXdVxEZmZmZmZmGf2fWUqymXiACHW4UxEZmZmZmZm5nZmZmZmZyXYiCcISaVbmX)7Wg)oJhgEUWL3mZmZmZmJfldmJDWOj9qFWnZyhmAGBGBgy21a3mdmJDWOrf4g4YBMzMzMzMXILbMXoy0a3mZmZWndCZaZyIbUr0aZyhmQa3mWL3mZmZmZmJflJU1a0fzlsgc6BxMSo)HmdmJ(0OVXgUOXKMbUXMgyg9PrDBx)yO1Wa3iAGz0Ng1TD9JHwddC5nZmZmZmZyXYiCbC(BOLrAItXU2fNIXeim4lActIQj(ogvgr7AKjJj0K3mZmZmZmJflJnCrJjn7oMiOGE0eZGEHnM8pU90i7fNYtXU4um4fW5pfdTmqxi9gc6BKwaaRDFIVJTi7pUO5c3UWgPlmYUWgzxWWtMa8YBMzMzMzMnjz4g5mQBiOpU8MzMzMzMzMz2KKHVqg2A8ByxmOVHG(4YBMzMzMzMzMzMzgWc7cy0GWOYiACHW4UxEZmZmZmZmZmZmZawyxaJDA0hcJDAqyStJkim2PYiACHW4cHXfcJ7E5nZmZmZmZmZmZmtEZmZmZmZmZmZmZiTg2UaHD(f44TjUnj7DoGb78lWXddUrzjVzMzMzMzMzMzMzMzgnimQmI2bozVyqcSZVahp47L3mZmZmZmZmZmZmZmtEZmZmZmZmZmZmZmZm2PrFJOXon6BKjJMXMgT9YBMzMzMzMzMzMzMzMXonJOXonJmz02lVzMzMzMzMzMzMzMzg70OYiAStJkJmz0m20OAV8MzMzMzMzMzMzMzMzStLr0yNkJmzuTxEZmZmZmZmZmZmZECkYBMzMzMzMzMzMzM8MzMzMzMzMzMzMXILDY4NFhZloYqlJ0eNIb6IgtA2e)8Fa)YBMzMzMzMzMzMzgWc7cyt8ZVJ5fhzen2PrF2e3yzStJnzN2E5nZmZmZmZmZmZmtEZmZmZmZmZmZmZyXYiCbC(BKwd7AxCkgtK3mZmZmZmZmZmZSRr0aJf70m20yNgvgBzt8ZVJ5fhbUrMmWyNg9n20yNkJTSj(53X8IJaFV8MzMzMzMzMzMzMXeJObgUXMg70OYylBIF(DmV4iWnwgyStZytJDQm2YM4NFhZloc89YBMzMzMzMzMzMzM8MzMzMzMzMzMzMnjzxtQLOX1U4umMysTenUgc6JlVzMzMzMzMzMzMzMzg2A8ByxmOVr0y7legtON9YBMzMzMzMzMzMz2JtrEZmZmZmZmZm7bGF5nZmZmZmZmZmZm7cHXeJODGt2lgKadBn(nSlg0h89YBMzMzMzMzMzpof5nZmZmZmZECkYBMzMzMzMjVzMzMzMz2KKXetQLOX1qqFC5nZmZmZmZmZmwSmcg(nM8WiJ0ezat83qld7cGDaCrV9WOjOl6PyOjO3qlB8xmOg6o25rg0)cGGkVzMzMzMzMzMb)ylCkWgrdmY(dShhD35n204UXL6gBAyRXVnXjT2aDPrG)cGGASSl4gBzmzV8MzMzMzMzMzglwgHhmbnUyid7ymECKHMGEdTSftq3jUXmAc6TXd6oXN47WS8MzMzMzMzMzg8JTWPaBenqxe0nqxAGXfcd(Xw4uGnwgyyhJXJJ4mb9gldBn(TjoP1gWfgrnp8Jah89YBMzMzMzM94uK3mZmZmZmtEZmZmZmZSXJog4g8JTWPaVxEZmZmZECkYBMzMzM8MzMzMbSWUagPdCm0CHBOjONU1a0fzGHMG(XU9jHaxEZmZmZmZmGf2fWaEsiJOHMG(XU9jH2lVzMzMzMzM8MzMzMzMzalSlGb)ylCkWgrd4jHmYr04AxCkgOlc6gjG1AagyapjKrEdY5cUzMXwg1nZa3wdJ7E5nZmZmZmZawyxad0e)a9Wgrd4jHmYr0GCU2fNIb6IGUrcyTgGbgWtczK3iiiNlxWnJTmiNRzGBRHXDV8MzMzMzMzalSlGbDDmGnIgWtczKJOrqqoxU2fNIb6IGUrcyTgGbgWtczK3oBi)e4YfCJTmccY5YfCBnmU7L3mZmZmZmdyHDbmkxQGnIgWtczKJOD2q(jWLRDXPyGUiOBKawRbyGb8Kqg5ncI6NIGGCUC5cUXw2zd5NaxUGBRHXDV8MzMzMzMzalSlGr1FhWgrd4jHmYr0iiQFkccY5YLRDXPyGUiOBKawRbyapjKXwgbr9trqqoxUCb3wdJ7E5nZmZmZmZK3mZmZmZmBsYO6VdyJCgxdb9XL3mZmZmZmZmZgp6yGBWOXeFNnsRbOlcmMjpf7ePxpjJ8uSt80NKrEkqg5PazKNIDIe4KygcJQ)oGHWOCPcgcd66yadHbAIFGEyim4hBHtbg89YBMzMzMzM9aW)KKr5sfSroJRHG(4YBMzMzMzMzMzJhDmWny0yIVZgP1a0fbgZKNIDIN(KmYtbYipfiJ8uStKaNeZqyuUubdHbDDmGHWanXpqpmeg8JTWPad(E5nZmZmZmZEa4FsYGUogWg5mUgc6JlVzMzMzMzMzMnE0Xa3GrJj(oBKwdqxeymtEkqg5PazKNIDIe4Kygcd66yadHbAIFGEyim4hBHtbg89YBMzMzMzM9aW)KKbAIFGEyJCgxdb9XL3mZmZmZmZmZgp6yGBWOXeFNnsRbOlcmMjpfiJ8uStKnCsmdHbAIFGEyim4hBHtbg89YBMzMzMzM9aWV8MzMzMzMzMz24rhdCdgnM47SrAnaDrGXm5PyNiHNeZqyWp2cNcm47L3mZmZmZm7XPiVzMzMzpof5nZmZmtEZmZmZyXYOMh(r2KKT7VbV7teguBDmm0DSZJK3mZmZSjjd7ymECeBKGp5tBsTenS143M4KwBaxyeN7yNhzRHHDmgpoIa)fab1iNHTg)2eN0Ad4cJiWFbqqne0h3gp8Jad892JtrEZmZmZyXYy6A8gtVaaWYBMzMz2KKHDmgpoIa)fab1iNX1U4umSJX4Xre4VaiOMulrdBn(TjoP1gOlnc8xaeu7ItXWxiJGXNOtgMUX8XPagzozbUu9dYCimy0fnX2oWNiWTlofd7ymECeNjO3iNHTg)2eN0Ad4cJOMN04HHAiOpU8MzMzMzMzSyzemzPCrVHG(gb(lacQrGjmAnOsEZmZmZmZSdYs5IEc8xaeucmHrRbvGHDmgpoIa)fabf89YBMzMzMzMXILX0fiYEGEdb9TNgzFm0tXidmbamotqV8MzMzMzMzyRXVHMG(XgKMaagrd7cGDaCrpyCbFV8MzMzMzMzKDmXrGXmzGjaGbzgZBBOfmAmX3bmS143qtq)ydstaaWbFV8MzMzMzMzalSlGbPjaaNjOFW0fWASxEZmZmZmZSjjdBn(n0e0p2G0eaWiNbJUOj2gc64HHUaOSbPjaWzwdqxadb9Xninba4mb9dMUawdJObJUOj2g2cyn2G0ea4mRbOlWE5nZmZmZmZEa4FsYWwJFdnb9JninbamYzWOlAITHGoEyOlakBqAcaq3CaJme0h3G0eaGZe0py6cynmIgm6IMyBylG1ydstaa6Mdy0E5nZmZmZmZEa43G0eaGZe0py6cynmIgm6IMyBylG1ydstaacFSfoL92JtrEZmZmZmZmGf2fWG0eaGZe0pmIgAc6PBnaDrGHTg)gAc6hBqAcaa(E5nZmZmZmZyXYyk0hds2KKT7VDhVnXn2P9yhO32vqVWVTgg(czOLbFp)nMUar2d0fnx4gNjOxEZmZmZmZSjjd7ymECeb(lacQrodBn(TjoP1gOlnc8xaeuJnny0fnX2GFeAIVd82t7XoqpBrDUCne0hxEZmZmZmZmZmJflJPlqK9a9gc6BpnY(yONIXzc6TDh6JBtKT7taaJjVnXn2P9yhO32vqVWV8MzMzMzMzMzg2A8BOjOFS90ESd0BenSla2bWf9GbJUOj2g8Jqt8DG3EAp2b6bFV8MzMzMzMzMzgzhtCeymZoTh7a9gKzmVTHwWOXeFhWWwJFdnb9JTN2JDGEWbFV8MzMzMzMzMzgWc7cypTh7a9CMG(btxaRXE5nZmZmZmZmZSjjZWwJFdnb9JTN2JDGEJCgm6IMyBiOJhg6cGY2t7Xoq)zwdqxadb9XTN2JDGEotq)GPlG1WiAWOlAITHTawJTN2JDG(ZSgGUa7L3mZmZmZmZmZEa4FsYWwJFdnb9JTN2JDGEJCgm6IMyBiOJhg6cGY2t7XoqpDZbmYqqFC7P9yhONZe0py6cynmIgm6IMyBylG1y7P9yhONU5agTxEZmZmZmZmZm7bGF7P9yhONZe0py6cynmIgm6IMyBylG1y7P9yhONWhBHtzV94uK3mZmZmZmZmZawyxa7P9yhONZe0pmIgAc6PBnaDrGHTg)gAc6hBpTh7a9GVxEZmZmZmZmZmdBn(nGlmIAE0Xa3iAWOXeFNnsRbOlcmM5mb9CwNE(gKzulgD0rEyYdtTJZACotqpNf70ESd0BqMrTy0rh5Hjpm1oygcdstaaotq)GPlG1acdstaaotq)ac7P9yhONZe0py6cynGWEAp2b65mb9dW3lVzMzMzMz2da)YBMzMzMzMzMzyRXVbCHruZJog4grdgnM47SrAnaDrGXmNjONZ60Z3GmJAXOJoYdtEyQDCwJZzc65SyN2JDGEdYmQfJo6ipm7NvyNPemh2P2bZqyqAcaWzc6hmDbSgqyqAcaWzc6hqy3FJDAp2b63vqVWptxaRb47L3mZmZmZm7XPiVzMzMzpa8lVzMzMzMzg2A8Baxye18OJbUr0yMEFMLDY4Kwdqx0CHdtoM3lVzMzMzpof5nZmZmdBn(ne0XcHaEJOHTg)gc6yHqaVrMmy0fnX2GFeAIVd824jnEyO7L3mZECkYBMzYBMzJhDmWnS143aUWiQ5rhdCBnmMpzy4JN59Y)4uyqivNfsKGFeJZWI(Nnxgeo(DMlCour2NbHONgIbHyhWOfiopnebtwkx0ZGW)8hhXGWlgAUWHzWHbHt8jIbhgeszTlyhWOfigKbzqi2bmAbIbHSyzem8pSD9DmVmb4HnWOxxhg075VHwgBnEG1LIDjH(HbArzsAIDrZfom4YFpg3D5XpFdgDrtmJOX20ZE5bwyxadgDrtmJODpg3D5XpFdgDrtS9YdJUOj22b(ezenMr3XopI59glw2U6azmtAHDaZSnjzuToSD)IJm0YqJlgKmQwhdJ0c7a2M4WO)sztEy0fnX2GFeAIVdSr0yB5nZSXtA8WqnIg3n6dHXILrnpPXdd1qtqVbg8JTWPadUbzgOjorUBuhcd0Lgr6dHr5jDpaqgrJ7g9HWUpckvWgrJ7g9L3mZEAp2b6nIgbDkimwSm2P9yhO3i7pWEC0DN3Gmd0eN4PGWaDPrC3CkimkpP7baYiAe0PGWUpckvWgrJGoL8Mzg0jmAnOIZe0BenQFkimwSmcmHrRbvgAc6nWGFSfofyWniZanXjEkimqxAePo95cHr5jDpaqgrJ(CHWUpckvWgrJ6NsEZmd6egTguX01boYiA7MtzSyzSHlnd6egTguzyRdCKbzgOjor6Zfcd0LgXtXLlegLN09aazenQtFUqy3hbLkyJOTBoL80ZE5Hrx0eBdBbSggrJTnwSmMUawddTSd432DOpUTTTjVzMbPjaWzwdqxaJOXmD0rhD0rhZqySyzCMGEd4jHmsRHXzc65So98TjSrodbD8Wqxau2G0ea4mRbOlWM8MzgKMaa0nhWiJOXmxUKrUNMDMHWyXY4mb9gWtczKwdJZe0ZzD65BtyJCgc64HHUaOSbPjaaDZbmAtEZmdstaacFSfofJOXmD0rgpnxYqMHWyXY4mb9gWtczKwdJZe0ZzD65BtyJEBiOJhg6cGYgKMaa0nhWOn5nZSN2JDG(ZSgGUagrJz6OJo6OJoMHWyXY4mb9gWtczKwdJZe0ZzXoTh7a92e2iNHGoEyOlakBpTh7a9NznaDb2K3mZEAp2b6PBoGrgrJzUCjJCpn7mdHXILXzc6nGNeYiTggNjONZIDAp2b6TjSrodbD8Wqxau2EAp2b6PBoGrBYBMzpTh7a9e(ylCkgrJz6OJmEAUKHmdHXILXzc6nGNeYiTggNjONZIDAp2b6TjSrVne0XddDbqz7P9yhONU5agTjVzM90ESd0VRGEHFJOXmD0XLlxUmBSyz0RRdY8XBtCdb9TN2JDGEBCX35nWGswJEBWpcnX3bE7P9yhOh8n5PN9YdJUOj2gc64HHUaOyen22yXY4mb9gWtczmz8xir21ehzKwdBBBtEZmdstaGZSgGUagrdY5cHXILXzc65So98n0YGr3bYoGN47yylG1ydstaa6Mdy0M8MzgKMaa0nhWiJOrqCHWyXY4mb9CwNE(gAzWO7azhWt8DmSfWASbPjaaHp2cNYM8Mz2t7Xoq)zwdqxaJOb5CHWyXY4mb9CwSt7XoqVHwgm6oq2b8eFhdBbSgBpTh7a90nhWOn5nZSN2JDGE6MdyKr0iiUqySyzCMGEol2P9yhO3qldgDhi7aEIVJHTawJTN2JDGEcFSfoLn5PN9YZILX014TD9DmVmb4HnWo9zXoZzHJX5SqWmLaGl)9yC3Lh)8nS14nIgBtp7LhyHDbmS14nI29yC3Lh)8nS143lp2A8BtCslJOX2YBMzaxyeN7yNhzenMzgc5nZmqxAe4VaiOgrJGXNic8xaeu2WLgyWOlAITDGprGdH8MzgWfgrG)cGGAenUqiVzMbCHruZtA8WqnIgxiK3mZaUWiQ5HFKr04kp9SxES143qtq)WiAST8MzgKMaagrJleYBMzpTh7a9grJR80ZE5XwJFd6FbqqjWegTguzen2ME2lp2A8ByxmOVr0yB6zV8yRXVbCHruZJog4grJz69zw2jJtAnaDrZfom5yEV8yRXVHGowieWBenU7zGyGyqi8dqAxTM4igeUBzNoomienM7SZpyWHbHiQi7ZGqy0fDaZGWd8)8hhXGW7bAXGWd8jIbHO7yNhXGWd4FxoWNigKbzGyq4UpPGGYGUt4ue0ztgp7tb5uNlxYi95c5NadsSoHtXGqANfsKGFeJZq)tDkgeIFaIZyUZo)aMXzOodcNuyq4zvYWDHm8rqPcEx4mb9CwNE(mie6p3bkIbDKXZ(SPobXL(NcY3nuN(e0zFcCzqI1jSByqiW6sHbhgeEa)7c(F(pyWegeIUapoIbhgec6aanzWHbIbIbHuMKinXoaquXGddcbDaGMm4WaXaXGWXc4zWHbHGoaqtgCyGyGyqiPlgAUWzWHbHGoaqtgCyGyGyq44I9m4WGqqhaOjdomqmqmqmi8ahnM7SZpyWHbHh4tedcr3XopIbIbIbHWmiK(BuFJ7g1jJmi8CgNH6Na9Podedga
-- Old
dCLwUaqEOK1drH8EukQ5JsH7dvj2pTiPuEKii5sqv1NqPinkqLtbQAvIaTQikqZsQYTqj7sK6xIagMi6yqvzzOu6zqKAAsPkxtkv2gejFdIkgNuQQZjscRtQkEhizEquj3dPAFOadeIk1bLQQwikfXdbPMOirxukzJOqFeIcyKIqNeQsTsu1lHszMOuDtrqTtPQ0pfjrdfIIwkev9uOYuHWvrbTvPQYxHQKgRiivNfIc6TIK0CHOqDxrszVOs)vKWGvhwspCeKYJbLjdIllSzKYNHignuCAr9Ars1SL42sXUH0VbA4qPAXqvSCaphjthX1LkBhv8DiknEu0RebXCXhxeCX1WfheU4GWfbxC0arj4YiJcU9fFThxCqYuyVuXcrWKWfh(HXfhSokcydIGjHloADOWizqu4GxE3DxE3DNflK7(3rWac0hV)j0qgKGblkwTkDOrpVfdL3D3zXc5UFbavgeTpoh8LoP8U7olwi3qdeqYekVpoBcayQhaParUjqa2IzaRJeonqaNGjCyGnyVJujzq00Y7U7Y7U7Sy5SdcRwYuHZiqTjCgZmdiE)Qa5kEkbL8U7EbewT4mentC6EBKkascsBq5Sy5iZoI3gnqyDuT5zAowGDoYwrjob0javyPUJfyhGtdewhLNrPirfsA5D39mnhfK4mentAXmtrOGJHOzc8oiGZq0mbVPyeihOqGRnSxQyfaT1ZziAMaVtWeOoqq6aq92qU6lO3cnAWYrubqsqyqBq5bkeOK3D3lGWQfh6oaGaLKyulemoDNHOzsIrTqWahdrZe4HsE3DVacRwCO7aacucICt40DKbccICtah8qjV7UlV7UZILZoiSAjtfoyhGdnaifLZqSdPsckVFvGCfpLGsE3DVacRwCCvobeNUJx7Fk6FqWGfvkqKBceGPmhqjV7UlV7UZIfl5D3DwSy5qdceoJDOWizquk5D3DwSyjV7UxaHvloTouyKmiQJ3OzIdh8Y7U7U7oET)PO)bbdwuParUjqaMYC40D2S8U7U7U7U7Sy5mKka8(vbYv8uckhoKHGDoMkNWjGEcaefWkeVsJeaEdiKmTmSkjdIsbV8U7U7U7U7iFqdiOW409KPzBpNflh5dAabfgNKBchoQagikek49(4nzu6jtJVEEtLjD22ZHe0QDfIt3tMMT98AqWGfLt3tMMTY7U7U7U7U3IzaRJeoDhPBxpNflVfZawhjCShaWcusfjH3hVjJsVD98Mkt6PI21ZHe0QDfIt3r621ZRbbdwuoDhPBN8U7U7U7U7jMPiGayHi3eoDhFTRNZILNyMIacGLtYnHdhvadefcf8EF8Mmk921ZBQmPJp2MSNdjOv7keNUZ2K98AqWGfLt3Xx7K3D3D3D3DpXmfbealOb7qjoDpv0UEolwEcxz6yYueqaSCyGDOeVpEtgLoBt2ZBQmP3UKj75qcA1UcXP74JTj751GGblkNUNkAN8U7U7U7U7ylxk9feOPwyp4efOblGaoDVngzKrgzKX265Sy5qdwabCcO3rfoYIjqDcMWj5MWlbnItdeWrKBceGPmhEMYzGJTCP0xqGMAH9GtuqKBcG0Y7U7U7U7UJTCP0xqGMAH9GtuqKBcaNUJuj75Sy5iYnHxcAehparn1XoygL40abCe5MabykZHtaDksfG4DuzuK4ylxkmMbOiShCIc0GfqG0Y7U7U7U7UJTCPWygGIWEWjkqdwabC6EBjtICsMYwT1ZzXYHgSac4eqVJkCKftG6emHtYnHxcAeNgiGJi3eiatzo8mLZahB5sHXmafH9GtuqKBcG0Y7U7U7U7UJTCPWygGIWEWjkiYnbGt3r6K9CwSCe5MWlbnIJhGOM6yhmJsCAGaoICtGamL5WjGofPcq8oQmksCSLlfCbmquiShCIc0GfqG0Y7U7U7U7UJTCPGlGbIcH9GtuGgSac4092yKrKtkt2)265Sy5qdwabCcO3rfoYIjqDcMWj5MWlbnItdeWrKBceGPmhEMYrUCSLlfgZaue2dorbrUjaslV7U7U7U7ElMbSos0xqGMAH9GtuGgSac4092yKrgzKrgBRNZILdnybeWjGEhv4ilMa1jycNKBcVe0ionqahrUjqa2IzaRJeEMYzG3IzaRJe9feOPwyp4efe5MaiT8U7U7U7U7TygW6irFbbAQf2dorbrUjaC6osLSNZILJi3eEjOrC8ae1uh7GzuItdeWrKBceGTygW6iHtaDksfG4DuzuK4TygW6ibJzakc7bNOanybeiT8U7U7U7U7TygW6ibJzakc7bNOanybeWP7TLmjYjzkB1wpNflhAWciGta9oQWrwmbQtWeoj3eEjOrCAGaoICtGaSfZawhj8mLZaVfZawhjymdqryp4efe5MaiT8U7U7U7U7TygW6ibJzakc7bNOGi3eaoDhPt2ZzXYrKBcVe0ioEaIAQJDWmkXPbc4iYnbcWwmdyDKWjGofPcq8oQmks8wmdyDKaxadefc7bNOanybeiT8U7U7U7U7TygW6ibUagike2dorbAWciGt3BJrgroPmz)BRNZILdnybeWjGEhv4ilMa1jycNKBcVe0ionqahrUjqa2IzaRJeEMYrU8wmdyDKGXmafH9GtuqKBcG0Y7U7U7U7U3IzaRJeitmvQaAWciGt3BJrgtMmzY265Sy5qdwabCcO3rfoYIjqDSa7ytbcpJ6emHhmdyDKWbQOijslV7U7U7U7olwo0GaH3VkqUINsq5WLYuP33ujchrQKHqNi8Y7U7U7U7UJTCPGi3eaoDpzp5D3D3D3D3BXmG1rce5MaWP7j7jV7U7U7U7o7vkcIkascIt3ziAM0tE3D3D3D39eUYmXOwiyC6odrZKeJAHGjHRmHJHOzc89K3D3D3D3DN9kfjXOwiyC6o0DaabkjXOwiyGsE3D3D3D3D2RueKpObeuyC6EYEY7U7U7U7UZELIG8bvqC6EYEY7U7U7U7UNyulemjMPiGay50D2mEPN8U7U7U7U7qxHHjC6oBgViV7U7U74fOK3D3D3DCvobeNUJx7Fk6FqWGfvkqKBceGPmhqjV7U7U741(NI(hemyrLce5MabykZrkWB0mXP7eGUak5D39afI8U7U8U7EbewT406qHrYGOoYh0ackmoCWlV7U7U741(NI(hemyrLce5MabykZHt3Xv5eqGsE3DpqHiV7UlV7UxaHvloTouyKmiQJ8bvqC4GxE3D3D3Xv5eqsZELIGOcGKG40DgIMjqjV7U7U74QCciPt4kZeJAHGXP7mentsmQfcMeUYeogIMjWdL8U7U7UJRYjGKM9kfjXOwiyC6o0DaabkjXOwiyGsE3D3D3Xv5eqsZELIG8bvqC6o0DaabkbrUjGsE3D3D3Xv5eqsNyulemjMPiGay50D2mEbk5D3D3DhxLtajn0vyycNUJMlqjV7UhOqK3D3L3D3lGWQfNwhkmsge1zi2HujrIrTqWKyMIacGLdxIrTqWaV8U7U7UxaHvlE)QLUGYP74QCciPtmQfcMeZueqaSGsE3D3D3lGWQfhrUjC6o0DaabkbrUjCwoUkNasA2RueKpOccuY7U7U7U8U7U7UtQ4PePZOubabU(vlDbvphF9C2mICt0ZtmQfcg8c8qjV7U7U7Y7U7U7oUkNasAORWWeoDhnxGsE3D3D3L3D3D3DKftUeoCju9Rw6ckNboUkNas6eZueqaSGgSdLaVdc4WHi3eolVF1sxqLQju9Rw6cQulvXxQ5mWXv5eqsNyMIacGfICtaVdbuE3D3D3D3DsfpLinq0aYjGRF1sxqbpuY7U7U7EGcrE3D3D3Xv5eqsZELIKyulemoDpXOwiyGsE3DpqHiV7UlV7UxaHvloTouyKmiQdDTaRRujHdhYmaGfOKksc4L3D3D39ciSAXXfWarHq509KqjV7U7U7fqy1I3VAPlOC6oUkNas6eJAHGjXmfbealOK3D3D39ciSAXrD6Ecv)QLUGck5D3D3DVacRw8AphpoDpzppjuY7U7U7U8U7U7UZILJl3G9s4LmAubCGajabfvgevE3D3D3zXYHZBbhtXlSfE39wWXeEhE3HZRo8U7W5TGJjwW7WlV7U7U7Sy5W5TGJj8U7U7oQ7W7oCoEC4D6oCEl4WcE3HxE3D3D3zXYzeeOPsCqAobt4v8aYj6JdNZwMS1t4kbiZ0H3tqhoNTmXN3VagbeWH3P7W5SLj(8(fWiGao8Y7U7U7olwooWcNWjGoTmkeV6vuioE65uvsMIgwzuK4y509QNqC8WuE3D3D3zXYt4kbiZ0RazcMMGKH5yQuoEIa1dMyVIcjG4vuiofyHtaXjGEtn1dNGjCAGLciYMrrIdI9aOsYGOELYPvPiELYXoifvgpLqE3D3D3Z0CuNbo(CcMavE3D3D3D39mnhfK44QCciPHUcdt4embQ8U7U7U7U7U7EbewT4m75y509K98KqjV7U7U7U7U7UxaHvlElMSTN3IzpVftS65TWYP7j75j75j75jHsE3D3D3D3D3DxE3D3D3D3D3DNgiGNIEE)QLUWZOEg71mafC9Rw6ck4DiGY7U7U7U7U7U7U7oZEowoDVdf7vyPoC9Rw6c4HsE3D3D3D3D3D3D3L3D3D3D3D3D3D39wmzRt3BXKTEcXz6jOZek5D3D3D3D3D3D3DVftNU3IPNqCMqjV7U7U7U7U7U7U7TyILt3BXelpH4m9e0Xck5D3D3D3D3D3D3DVfwoDVfwEcXXck5D3D3D3D3D39afI8U7U7U7U7U7U8U7U7U7U7U7olwoEJYPcKROeNa60YOq8MkbiZ0ZOCcaQqE3D3D3D3D3DVacRwC8gLtfixrjoDVft2MGOolVfZeSftOK3D3D3D3D3D3L3D3D3D3D3D3zXYXbw4eonqaV6vuioEK3D3D3D3D3D3RoDhowTy6jO3IjwEc44nkNkqUIsG3tioCTyYwpb9wy5jGJ3OCQa5kkbEOK3D3D3D3D3D3XJt3Hd1tqVftS8eWXBuovGCfLaVZYHRftpb9wy5jGJ3OCQa5kkbEOK3D3D3D3D3D3L3D3D3D3D3D3Z08QlBq3t6vuioECzd6EsNGjqL3D3D3D3D3D3D3DCvobK0qxHHjC6oBU2ZXdEbk5D3D3D3D3D39afI8U7U7U7U7rHkK3D3D3D3D3D3R9C8409ouSxHL6WHRYjGKg6kmmb8qjV7U7U7U7EGcrE3D3D3duiY7U7U7U8U7U7UNP54XLnO7jDcMavE3D3D3D3DwSCgsfoEckItlt8sgnCcOdRwG1vQKWdksUPscioj3eob0bIkmmoPcGKG4yIAHGrE3D3D3D3DCbmquiuoDhoKzaalqjvKeEc6jtNeFEc64QCciPt4kZeJAHGXz5v49eWXduY7U7U7U7UZILJRdpeGkmIdRdaiqjoj3eob0bXdPMr92i5MWbIMAgnJIK2K3D3D3D3DhxadefcLt3BQemPBQmHlzphxadefcLZYHd6oaGaLGi3eolhxLtajn7vkcYhubbE4HsE3D3D3duiY7U7U7U8U7U7UdeKoauhxadefcfuY7U7bke5D3D5D39ciSAXP1HcJKbrDe5MGrqGMkXHdrUjaypOrGxE3D3D3lGWQfVe0ioDhrUjaypOrGsE3D3D3L3D3D39ciSAXPcyGOqOC6EjOrCgq3t6vuiEtLGjnTciiaCWvcAeh)osLeE3DpbC85UdVdc4jHsE3D3D3lGWQfVjJ2rckNUxcAeNb0DKkPxrH4nvcM00kGGaWbxjOrC87insLmj8UNaosL0D4DqapjuY7U7U7EbewT4ya7aOC6EjOrCgq3rAKkzsVIcXBQemPPvabbGdUsqJ443BFKQ9sMeEpbCKgPsMeEheWtcL8U7U7UxaHvloKkwuoDVe0iodO7Tps1Ejt6vuiEtLGjnTciiaCWvcAeh)osJV2H0ivYKjH3taV9rQ2lzs4DqapjuY7U7U7EbewT4yfvakNUxcAeNb0DKgFTdPrQKjt6vuiEtLGjnTciiaCLGgXtahPXx7qAKkzYKW7GaEsOK3D3D3D5D3D3DptZXkQauod8KobtGkV7U7U7U7oqq6aqDkcqgfjPPbc0ujW1g(H4PkYWuZXpepvtzQ54hsFWpK(GFiEQMyQ1wphROcq1ZHuXIQNJbSdGQN3Kr7ibvpNkGbIcHcEOK3D3D39OqfzAoKkwuod8KobtGkV7U7U7U7oqq6aqDkcqgfjPPbc0ujW1g(H4PAktnh)q6d(H0h8dXt1etT265qQyr1ZXa2bq1ZBYODKGQNtfWarHqbpuY7U7U7EuOImnhdyhaLZapPtWeOY7U7U7U7UdeKoauNIaKrrsAAGanvcCTHFi9b)q6d(H4PAIPwB9CmGDau98MmAhjO65ubmquiuWdL8U7U7UhfQitZBYODKGYzGN0jycu5D3D3D3D3bcshaQtraYOijnnqGMkbU2WpK(GFiEQMWPwB98MmAhjO65ubmquiuWdL8U7U7UhfQqE3D3D3D3DGG0bG6ueGmksstdeOPsGRn8dXtvCPwB9CQagikek4HsE3D3D3duiY7U7bke5D3D5D3DwSC8gntY1sgzuLKbrL3D3Z0CuqIJx7Fk6FqWGfvkqKBceGPmhPaVrZeNGjqD8gntGdEO8afI8U7U8U7olwoYhubXZ0CKnCkKntGHXb7aCsfajbrE3DptZziAM4Yg0DCvobK0SxPiiQaijioiGdDhaqGssmQfcgNboUkNasA2RuKeJAHGXjycuh5dQGah8q5bke5D3D5D3DwSCObbch6APqjV7UNP5q3baeOKeJAHGXzGN0ROqCO7aacusIrTqW4Yg0DCvobK0jCLzIrTqW4vuiokiXziAMG3umcKduiWXMI9sfRaGnTNZq0mbEVIcXHUdaiqjiYnHZahxLtajn7vkcYh0ackmobtGkV7U7U7Sy5me7qQKWjycpXOwiy8eZueqaSK3D3D3DgIDivsKyulemjMPiGaybh0DaabkjXOwiyGhk5D3D3DNflhAWgS3rcNGj8Gj2dyKaIJTCP4iYnH8U7U7UJRYjGKgB5sbrUjaC6o01cSUsLeWLeEOK3D3D39ciSAXXwUuqKBcaOblGaqjV7U7U7zAoUkNasASLlfe5MaWzGJRYjGKgB5sPVGan1c7bNOGi3eaobtG6ylxkiYnba0GfqaNUJRYjGKgB5sPVGan1c7bNOanybeak5D3D3DpkurMMJRYjGKgB5sbrUjaCg44QCciPXwUuymdqryp4efe5MaWjycuhB5sbrUjaGgSac40DCvobK0ylxkmMbOiShCIc0GfqaOK3D3D39Oqfo2YLcICtaanybeWP74QCciPXwUuWfWarHWEWjkqdwabGYduiY7U7U7EbewT4ylxkiYnbGt3rKBcgbbAQe4Wv5eqsJTCPGi3eaWdL8U7U7UZILdnMawQ7zAoYgEfi8mQ3IzaRJeoYetLkCqahfK4eqNQYjCObBWEhPsYGOoICtiV7U7U7zAo0DaabkjXOwiyCg44QCciPt4kZeJAHGXtqhxLtajDlMbSosKa4lzsNGjqL3D3D3D3DNflhAWgS3rcNGj8Gj2dyKaIJi3eoYIjq9mXr2CP44j8mQ3IzaRJeoYetLkK3D3D3D3DhxLtajDlMbSosGi3eaoDh6AbwxPsc4Wv5eqs3IzaRJeWdL8U7U7U7U7fqy1I3IzaRJeiYnba0GfqaOK3D3D3D3DptZXv5eqs3IzaRJeiYnbGZahxLtajDlMbSos0xqGMAH9GtuqKBcaNGjq9wmdyDKarUjaGgSac40DCvobK0TygW6irFbbAQf2dorbAWciauY7U7U7U7UhfQitZXv5eqs3IzaRJeiYnbGZahxLtajDlMbSosWygGIWEWjkiYnbGtWeOElMbSosGi3eaqdwabC6oUkNas6wmdyDKGXmafH9GtuGgSacaL8U7U7U7U7rHk8wmdyDKarUjaGgSac40DCvobK0TygW6ibUagike2dorbAWciauEGcrE3D3D3D39ciSAXBXmG1rce5MaWP7iYnbJGanvcC4QCciPBXmG1rce5MaaEOK3D3D3D3Dh5dAabfg4Ghk5D3D3D3D3bcshaQtraYOijnnqGMkbU2qKBceGPmhEFC2agJmIFk8tXgaiJrrKBceGTygW6iH3hNnGXiJ4Nc)uSbqB9CSLlfe5MaaAWciqphB5sbrUja65TygW6ibICtaanybeON3IzaRJeiYnba8qjV7U7U7rHkK3D3D3D3Dh5dAabfg4Ghk5D3D3D3D3bcshaQtraYOijnnqGMkbU2qKBceGPmhEFC2agJmIFk8tXgaiJrrKBceGTygW6iH3hNnGXiJ4NQvc9wqZqeTydG265ylxkiYnba0GfqGEo2YLcICta0ZXv5eqs3IzaRJeitmvQaAWcia8qjV7U7U7bke5D39afI8U7U8U7oYh0ackmWbpuY7U7abPda1Bd5QVGoEJsdeOPsYGOumOnOKpqHWfxhkbiJeKeaCrWfxhAMWfhPcGKGWfxhvKIo0mHlBcxcxCabsYGOiWc7bxCKGjHloyDueWgebtcdXoKkj4Il4eOeU4YOzskGb2G9sqciC7l(4IJkk0qMGzucxCS3IreCXraYibjbaxeCXrWc7bxCuKkPJIlUo0GtGs4IR2ra5IRdnt4IJubqsq4IRJksrhAMWLnHlHloSsL0OrfeU9LfBB)KCXHSziemCzS9Ahs3(iN2VDif(sMe5W2Kiv7XLgR2RDCXH21GaiJeKeauC7l(4IldHlo8A)tr)dcgSOsbICtGamL5GlomrgjyiCze50(Tp(q6KSTDivQaFSfPB)2ljxASAVubxCmtL0OrfeU9LTTRDCXvaRq4IGlUoQifObNaGlE4IJulbkHlcU4A6kKmxeCjCjCXbjtJwgwxHGfxeCX10vizUi4s4s4IdOcl4IGlUMUcjZfbxcxcxC0QWizquUi4IRPRqYCrWLWLWfhayj4IGlUMUcjZfbxcxcxcxcxCuCXX204lDY04d5WfhhU9fFThBXhxcxU

--[[
Author : Aethys
Version : 1.1 (11.22.2015)
Credits : Broker_TimeToExecute for the computation.
Readme :
    WeakAura that display the TimeToExecute and TimeToDie. You can customize settings in the init section.
]]--


--- Actions\On Init\Custom ---

-- Init
-- User Variables (You have to /reload after modifications)
aura_env.static = {};
local static = aura_env.static;
static.unit = "target"; -- Put "focus" if you want to track your focus instead.
static.settings = {
    refresh = 0.2, -- Refresh time (seconds) : min=0.1, max=2, default = 0.2, aethys = 0.2
    execute = 35, -- Execute percentage : min=5, max=95, default = 35, aethys = 35
    historyTime = 15, -- History time (seconds) : min=5, max=120, default = 20, aethys = 15
    historyCount = 95 -- Max history count : min=20, max=500, default = 120, aethys = 95
    };
static.color = { -- Color to use when ...
    killNormal = "FFFFFF", -- Time left for TimeToDie is > threshold.killNormal.
    killFirst = "0070DE", -- Time left for TimeToDie is > threshold.killFirst.
    killSecond = "FF7D0A", -- Time left for TimeToDie is < threshold.killFirst.
    executeNormal = "FFFFFF", -- Time left for TimeToExecute is > threshold.executeNormal.
    executeFirst = "0070DE", -- Time left for TimeToExecute is > threshold.executeFirst.
    executeSecond = "FF7D0A", -- Time left for TimeToExecute is < threshold.executeFirst.
    executePhase = "FF0000" -- You're in the execute range (hp < settings.execute).
    };
static.threshold = { -- Time left breakpoint for ...
    killNormal = 60, -- TimeToDie to start using color.killFirst.
    killFirst = 30, -- TimeToDie to start using color.killSecond.
    executeNormal = 60, -- TimeToExecute to start using color.executeFirst.
    executeFirst = 30, -- TimeToExecute to start using color.executeSecond.
    };
-- Core Variables (DO NOT TOUCH)
aura_env.core = {};
local core = aura_env.core;
core.info = {
    lastTarget = "",
    maxHealth = UnitHealthMax(static.unit),
    lastHealth = 0,
    lastRefresh = 0,
    lastReset = 0
    };
core.timer = {
    kill = 0,
    execute = 0
    };
core.healthHistory = {};
core.cache = {};
core.lastReturn = "<No Informations>";
core.throttle = 0;

--- Trigger\Custom Trigger ---

-- Trigger WA Satus [Health -> Target/Focus]


--- Display\Custom Function ---

-- Refresh [Every Frame]
function()
    -- Localize aura.env
    local static = aura_env.static;
    local core = aura_env.core;
    if GetTime() > core.throttle then
        -- Localize Frame Fixed Variables
        if not UnitExists(static.unit) or UnitIsFriend("player", static.unit) then return "<No Enemy Target>"; end;
        local currentGUID = UnitGUID(static.unit)
        local currentHealth = UnitHealth(static.unit);
        local currentTime = GetTime();

        ---
        --- Core Functions
        ---
        local function reset ()
            core.info.lastTarget = currentGUID;
            core.info.maxHealth = UnitHealthMax(static.unit);
            core.info.lastHealth = currentHealth;
            core.info.lastReset = currentTime;
            core.HealthHistory = {};
            core.cache = nil;
        end

        local function updateHealthHistory (health)
            local values = core.healthHistory;
            local time = currentTime - core.info.lastReset;
            
            table.insert(values, 1, {time, health});
            
            core.cache = nil;
            
            while (#values > static.settings.historyCount) or (time - values[#values][1] > static.settings.historyTime) do
                table.remove(values);
            end
            core.info.lastHealth = health;
        end

        local function calculate (percentage)
            local seconds = 0;
            local values = core.healthHistory;
            local n = #values;
            local a, b = 0, 0;
            
            -- Simple linear regression
            -- ( E(x^2)   E(x) )  ( a )   ( E(xy) )
            -- ( E(x)       n  )  ( b ) = ( E(y)  )
            -- Format of the above: ( 2x2 Matrix ) * ( 2x1 Vector ) = ( 2x1 Vector )
            -- Solve to find a and b, satisfying y = a + bx
            -- Matrix arithmetic has been expanded and solved to make the following operation as fast as possible
            if n > 1 then
                if not core.cache then
                    local x, y = 0, 0;
                    local Ex2, Ex, Exy, Ey = 0, 0, 0, 0;
                    
                    for _, value in ipairs(values) do
                        x, y = unpack(value);
                        
                        Ex2 = Ex2 + x * x;
                        Ex = Ex + x;
                        Exy = Exy + x * y;
                        Ey = Ey + y;
                    end
                    
                    -- Invariant to find matrix inverse
                    local invariant = Ex2*n - Ex*Ex;
                    
                    -- Solve for a and b
                    a = (-Ex * Exy / invariant) + (Ex2 * Ey / invariant);
                    b = (n * Exy / invariant) - (Ex * Ey / invariant);
                    
                    if a ~= 0 and b ~= 0 then
                        core.cache = {a, b};
                    end
                else
                    a, b = unpack(core.cache);
                end
            end
            
            if b ~= 0 then
                -- Use best fit line to calculate estimated time to reach target health
                seconds = (percentage * 0.01 * core.info.maxHealth - a) / b;
                -- Subtract current time to obtain "time remaining"
                seconds = math.max(0, seconds - (currentTime - core.info.lastReset));
            end
            
            return seconds;
        end

        local function timeFormat (timerLeft)
            local left = timerLeft;
            
            local seconds = left >= 0 and math.floor((left % 60)    / 1   ) or 0;
            local minutes = left >= 60 and math.floor((left % 3600)  / 60  ) or 0;
            local hours = left >= 3600 and math.floor((left % 86400) / 3600) or 0;
            local days = left >= 86400 and math.floor((left % 31536000) / 86400) or 0;
            local years = left >= 31536000 and math.floor(left / 31536000) or 0;
            
            if years > 0 then
                return string.format("%d [Y] %d [D] %d:%d:%d [H]", years, days, hours, minutes, seconds);
            elseif days > 0 then
                return string.format("%d [D] %d:%d:%d [H]", days, hours, minutes, seconds);
            elseif hours > 0 then
                return string.format("%d:%d:%d [H]", hours, minutes, seconds);
            elseif minutes > 0 then
                return string.format("%d:%d [M]", minutes, seconds);
            else
                return string.format("%d [S]", seconds);
            end
        end

        -- Reset if we switch our target
        if currentGUID ~= core.info.lastTarget or currentHealth > core.info.lastHealth then reset(); end
        -- Core Calls
        if currentHealth > 0 and currentHealth ~= core.info.maxHealth and not UnitIsFriend('player', static.unit) and currentTime > core.info.lastRefresh then
            -- Update the Health History
            updateHealthHistory(currentHealth);
            -- Compute the expected Kill Time
            core.timer.kill = calculate(0);
            local killTimerColor;
            if core.timer.kill > static.threshold.killNormal then killTimerColor = static.color.killNormal;
            elseif core.timer.kill > static.threshold.killFirst then killTimerColor = static.color.killFirst;
            else killTimerColor = static.color.killSecond; end
            local killTimer = timeFormat(core.timer.kill);
            -- Check if we are in Execute Phase or not to save Computation Time
            if currentHealth > core.info.maxHealth * static.settings.execute/100 then
                -- Compute the expected Time when it will be in Execute Phase
                core.timer.execute = calculate(static.settings.execute);
                local executeTimerColor;
                if  core.timer.execute > static.threshold.executeNormal then executeTimerColor = static.color.executeNormal;
                elseif core.timer.execute > static.threshold.executeFirst then executeTimerColor = static.color.executeFirst;
                else executeTimerColor = static.color.executeSecond; end
                local executeTimer = timeFormat(core.timer.execute);
                core.lastReturn = string.format("TimeToDie : |cFF%s%s|r\nTimeToExecute : |cFF%s%s|r", killTimerColor, killTimer, executeTimerColor, executeTimer);
            else
                core.lastReturn = string.format("TimeToDie : |cFF%s%s|r\nTimeToExecute : |cFF%sEXECUTE|r", killTimerColor, killTimer, ae.ExecutePhaseColor);
            end
        else
            core.lastReturn = "<No Informations>";
        end
        core.throttle = core.throttle + static.settings.refresh;
    end

    return core.lastReturn;
end