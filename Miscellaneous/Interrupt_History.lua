--- WeakAura Strings ---
d4KgtaGisPlrkgfO6uGyvqf0RefkMLu1TaQ2fK0WiOoMKAzqvpdQKPPi11GeBtruFtuv14GkuNtuO07GkG5jQk09ikdeQaDqOSqOc5HIQmrGsxuuQnkQ8rLKtQiSsi1lLKzkk4MIQI2jb5NkImuGSuOI6PkQPcsxvu0wffQ6Re4TezUkPCxcTxi(RidM6WQyXqL6XQ0KvvxwyZGYNvKmAL40sSAOI8APYSbCBfA3KQFRGHRKQLRupxktNKRtuTDrvLVlkuz8afNxvwVOQG3lQknFrj3xui7hnsncuK5rK5pY8hbkYmSbD1CjFiqecpEKzWmjyWAHcrOjxlmY8V0wh48GgGrHmR5ImFL3udJqdWOqMHjx)Qkd6WHq00000fy0cWsyHA51svLBx8tGaoVytF0)0Rcf0Yyahc4cWsyHA51svLBx8tGaoVylvlkHxKoFug9KfMwTe6ennnnnnnnDbgTaSewOwETuv52f)eiGZl2s4fLQfPLjJwyA1sOt00000000000007qjFRtdBypEuW1cxtnQWGqN1nxonn6QYTl(A7PxfkOLXaoeWfGLWc1YRLQk3U4NabCEXwQwucVypTaSewOwETuv52f)eiGZl2s1Is1IqiAAAAAAAA6aOffy0cWsyHA51svLBx8tGaoVylHlrPArAzYOfMwTe6ennnnnnnnnnnn9ouY360Wg2JhfCTW1uJkmi0zDZLttJUQC7I)A6W1uJkmi0zDZLttJUQC7IV2E6vHcAzmGdbCbyjSqT8APQYTl(jqaNxSLWlkHxSNwawclulVwQQC7IFceW5fBj8Is1I90Rcf0Yyahc4cWsyHA51svLBx8tGaoVylvlkHxSNwawclulVwQQC7IFceW5fBPArPAriennnnnnnnDa0IcmAbyjSqT8APQYTl(jqaNxSLMwuQwKwMmAHPvlHorttttttttttttVdL8TonSH94rbxlCn1OcdcDw3C500ORk3U4VMoCn1OcdcDw3C500ORk3U4VMoCn1OcdcDw3C500ORk3U4RTNEvOGwgd4qaxawclulVwQQC7IFceW5fBjCjkHxSNwawclulVwQQC7IFceW5fBjCjkvl2tVkuqlJbCiGlalHfQLxlvvUDXpbc48ITeErj8I90cWsyHA51svLBx8tGaoVylHxuQwSNEvOGwgd4qaxawclulVwQQC7IFceW5fBPArj8I90cWsyHA51svLBx8tGaoVylvlkvlcHOPPPPPPPPdGwuGrlalHfQLxlvvUDXpbc48ITekIs1I0YKrlmTAj0jAAAAAAAAAAAA6DOKV1PHnShpk4AHRPgvyqOZ6MlNMgDv52f)10HRPgvyqOZ6MlNMgDv52f)10HRPgvyqOZ6MlNMgDv52f)10HRPgvyqOZ6MlNMgDv52fFT90Rcf0Yyahc4cWsyHA51svLBx8tGaoVylnTOeEXEAbyjSqT8APQYTl(jqaNxSLMwuQwSNEvOGwgd4qaxawclulVwQQC7IFceW5fBjCjkHxSNwawclulVwQQC7IFceW5fBjCjkvl2tVkuqlJbCiGlalHfQLxlvvUDXpbc48ITeErj8I90cWsyHA51svLBx8tGaoVylHxuQwSNEvOGwgd4qaxawclulVwQQC7IFceW5fBPArj8I90cWsyHA51svLBx8tGaoVylvlkvlcHOPPPPPPPPdGwq00000000000007qjFRtdBypEuW1cxtnQWGqN1nxonn6QYTl(RPdxtnQWGqN1nxonn6QYTl(RPdxtnQWGqN1nxonn6QYTl(RPdxtnQWGqN1nxonn6QYTl(RPdxtnQWGqN1nxonn6QYTl(A7PxfkOLXaoeWfGLWc1YRLQk3U4NabCEXwcfrj8I90cWsyHA51svLBx8tGaoVylHIOuTyp9QqbTmgWHaUaSewOwETuv52f)eiGZl2stlkHxSNwawclulVwQQC7IFceW5fBPPfLQf7PxfkOLXaoeWfGLWc1YRLQk3U4NabCEXwcxIs4f7PfGLWc1YRLQk3U4NabCEXwcxIs1I90Rcf0Yyahc4cWsyHA51svLBx8tGaoVylHxucVypTaSewOwETuv52f)eiGZl2s4fLQf7PxfkOLXaoeWfGLWc1YRLQk3U4NabCEXwQwucVypTaSewOwETuv52f)eiGZl2s1Is1IqiAAAAAAAA6q)t00000bqliAAAAAAAAAGH7bGoBWCgxhiGEWnqqlJoF1k0zmQ12tRvOZyGxBpTwHoJbU02tRvOZymT2EATcDgdu0Mr4aennnnnnnn9ouY360Wg2JhfCTAA0vLBx8xtxtJUQC7I)A6AA0vLBx8xtxtJUQC7I)A6AA0vLBx812tNnyoJRdeqp4giKQf7PZgmNX1bcOhCdes4f7PZgmNX1bcOhCdes4sSNoBWCgxhiGEWnqinTypD2G5mUoqa9GBGqcfriennnnDO)j6q)JmVJPkd6qFRhiZQamkK5IErLUdJRdeQ4JiunY85)lQYG(biP2LPMk2neOikKzCsEtvG9qMZlBHGMnoJm3cayGgk6kKzC0KGcDs5ZmKDoOiZQDzQPIncuKz1B9az(kVPggrMVYBQHXK6TEGmh5xORqMVYBQHX0s5hiZQYy8rM)Y3hvzqhzUgfK5i)cDvdzoVjLpXryqtzysRszNXNTqqtzkuUjYa0SX5SblY8vEtnmk0zmqMbh8j0vXElFDv8PX9JglulVgnoiD2aY1dK5R8MAyezgMC9RQmOdp1N6hJw7mv0N6t9Tb57Bi0zm6t9P(F0uRYCcWcHOPPPPlWOhJw7mvqltgT2zqzNHmKMqiOzJZ4CMGGQL(O)PH)JMAvMtawAzYOZuVOwL5eGfUwydx5nTqOh20W)rtTkZjalTmz0zQxuRYCcWcx76aNxSvN9uHsle6J(NgEM6f1QmNaSW1cB4kVPfcTmz06fa6HnDM6f1eTC7sO)HRDDGZl2A7P1cB4kVPfcTmz0QT8acei0QLqNOPPPPPPPPjAAAAAAAA6cmAbyjSqT8APQYTl(PmCAQvzobyPLjJwVaqpSPfGLWc1YRLQk3U4NYWPPwL5eGLMzjJ(hn1QmNaS0QLqNOPPPPPPPPPPPPfGLWc1YRLQk3U4NabCEXMwgD(MrennnnnnnnnnnnnSHnDrwDpk0)bIMMMMMMMMMMMMMMMMwawclulVwQQC7IFceW5fBPIiTm68nJiAAAAAAAAAAAAAAAAAydBACswDpE6)arttttttttttttttttttttlalHfQLxlvvUDXpbc48ITurucNePLrlmrtttttttttttttttth6FIMMMMMMMMMMMMo0)ennnnnnnnDO)jAAAAAAAAAbyjSqT8APQYTl(PmCAQvzobyPLr)JMAvMtawIMMMMMMMMMOPPPPPPPPHnSPlYqPhFp410)bIMMMMMMMMMMMMg2WMgNKHVVUh8A6)arttttttttttttttttlalHfQLxlvvUDXpbc48ITurucNePLrlalHfQLxlvvUDXpbc48ITub8ArjCsKOPPPPPPPPPPPPd9prtttttttth6FIMMMMMMMMMOPPPPPPPPbgUhaAqaNxSZd40A5namSjAAAAAAAA6cm6m1lQSbtPPAWBdY33qOZyaHwMmA1wEqRwcDIMMMMMMMMMMMMgeW5f78aoTwEdadBAz04m2eGnLxgWMNt5nPmmjCEwQfaXvbhFFM6fvEaNwdEBq((gcDgdiqejAAAAAAAA6aOfennnnnnnnnnnnniGZl25bCAT8gag20YOZ3nTmAHrffHX3tpfTmAHrffHX3tJBAz0cJkkcJpJiAAAAAAAA6q)t000000000cWsyHA51svLBx8tGaoVylvlkHxKwg9QqbTmgWHq000000000ad3daT(zmOLr3gKVVHqNXG(O)PBQDrFkuNQjh3WBdY33qOZy0tRvd4smJYsmJrBpTwTqOh20Tb57Bi0zmWbiAAAAAAAAAbyjSqT8APQYTl(jqaNxSLQfLQfPLrdBypEuW1Qry8GrJW4bJgHXdgnTS2A7PbbCEXopGtRL3aWWg1noepkO0tdc48IDEaNwlVbGHnQtHdXJck90GaoVyNhWP1YBayyJkUXH4rbLEA9ZyaHOPPPPPPPP3Hs(wNwTLhennnnDO)jAAAA6DOKV1PHDaAbrh6FefY8BsWG1cfIqGJJfgzoJR8vli5qzYtE6jJJNg)0OGs(lmowyuqGb(0OGmF0VldBqdfDfYCgYohuKzD5Jq3LPMk2neHQrMxIYulkKC5F(pTWOm5PRXxJlCHcUYyrbbg4tpzKzGHZhbkYS8wK0J8l2i4gzwDacDfcuK5r5aQccuefIcz(xGbRCLdOEiqrMhLdOkiqruikK59aqGafzEuoGQGafrHOqMHDUQYGocuK5r5aQccuefIczwEls3HrCFui4iK595giqrMhLdOkiqruikefYC5JmlalHfQLxlvvUDXhrHm3qMXJAnQcJAD(JmNFicvpn(Aefcc

--[[
Author : Aethys
Version : 1.3 (02.16.2015)
Readme :
	WeakAura to display the 5 last interrupters of your target or your focus if it's an ennemy.
]]--


--- Actions\On Init\Custom ---

-- Init


--- Trigger\Custom Trigger ---

-- Trigger [COMBAT_LOG_EVENT_UNFILTERED]
function(_,_,message,_,_,sourceName,_,_,destGUID)
    if message == "SPELL_INTERRUPT" and (destGUID == UnitGUID("focus") or (destGUID == UnitGUID("playertarget") and (UnitGUID("focus") == nil or UnitIsFriend("player", "focus") == true))) then
        
        if WA_Aethys_Kicked_LastGUID == nil or WA_Aethys_Kicked_LastGUID ~= destGUID then
            WA_Aethys_Kicked_Player = {}
            for i=1,5 do
                WA_Aethys_Kicked_Player[i] = {}
                for j=1,2 do
                    WA_Aethys_Kicked_Player[i][j] = 0
                end
            end
        end
        WA_Aethys_Kicked_LastGUID = destGUID
        
        for i=5,2,-1 do
            for j=2,1,-1 do
                WA_Aethys_Kicked_Player[i][j] = WA_Aethys_Kicked_Player[i-1][j]
            end
        end
        
        local PlayerClassColor
        if UnitExists(sourceName) == true then
            PlayerClassColor = RAID_CLASS_COLORS[select(2,UnitClass(sourceName))]
        else
            PlayerClassColor = {r = 0.502, g = 0.502, b = 0.502}
        end
        WA_Aethys_Kicked_Player[1][2] = GetTime()
        local name = sourceName and string.gsub(sourceName, "%-[^|]+", "") or sourceName;
        WA_Aethys_Kicked_Player[1][1] = format("%02x%02x%02x%s|r", PlayerClassColor.r*255, PlayerClassColor.g*255, PlayerClassColor.b*255, name)
        return true
    end
    return false
end


--- Display\Custom Function ---

-- Refresh [Every Frame]
function()
    if WA_Aethys_Kicked_Player and GetTime()-WA_Aethys_Kicked_Player[1][2] <= 60 then
        if WA_Aethys_Kicked_Player[2][1] == 0 then
            return format("(%1.f) |cFF%s Kicked", GetTime()-WA_Aethys_Kicked_Player[1][2], WA_Aethys_Kicked_Player[1][1])
        elseif WA_Aethys_Kicked_Player[3][1] == 0 then
            return format("(%1.f) |cFF%s Kicked\n(%1.f) |cFF%s Kicked", GetTime()-WA_Aethys_Kicked_Player[2][2], WA_Aethys_Kicked_Player[2][1], GetTime()-WA_Aethys_Kicked_Player[1][2], WA_Aethys_Kicked_Player[1][1])
        elseif WA_Aethys_Kicked_Player[4][1] == 0 then
            return format("(%1.f) |cFF%s Kicked\n(%1.f) |cFF%s Kicked\n(%1.f) |cFF%s Kicked", GetTime()-WA_Aethys_Kicked_Player[3][2], WA_Aethys_Kicked_Player[3][1], GetTime()-WA_Aethys_Kicked_Player[2][2], WA_Aethys_Kicked_Player[2][1], GetTime()-WA_Aethys_Kicked_Player[1][2], WA_Aethys_Kicked_Player[1][1])
        elseif WA_Aethys_Kicked_Player[5][1] == 0 then
            return format("(%1.f) |cFF%s Kicked\n(%1.f) |cFF%s Kicked\n(%1.f) |cFF%s Kicked\n(%1.f) |cFF%s Kicked", GetTime()-WA_Aethys_Kicked_Player[4][2], WA_Aethys_Kicked_Player[4][1], GetTime()-WA_Aethys_Kicked_Player[3][2], WA_Aethys_Kicked_Player[3][1], GetTime()-WA_Aethys_Kicked_Player[2][2], WA_Aethys_Kicked_Player[2][1], GetTime()-WA_Aethys_Kicked_Player[1][2], WA_Aethys_Kicked_Player[1][1])
        else
            return format("(%1.f) |cFF%s Kicked\n(%1.f) |cFF%s Kicked\n(%1.f) |cFF%s Kicked\n(%1.f) |cFF%s Kicked\n(%1.f) |cFF%s Kicked", GetTime()-WA_Aethys_Kicked_Player[5][2], WA_Aethys_Kicked_Player[5][1], GetTime()-WA_Aethys_Kicked_Player[4][2], WA_Aethys_Kicked_Player[4][1], GetTime()-WA_Aethys_Kicked_Player[3][2], WA_Aethys_Kicked_Player[3][1], GetTime()-WA_Aethys_Kicked_Player[2][2], WA_Aethys_Kicked_Player[2][1], GetTime()-WA_Aethys_Kicked_Player[1][2], WA_Aethys_Kicked_Player[1][1])
        end
    else
        local ExampleTable = {"Name1", "Name2", "Name3", "Name4", "Name5"};
        return format("%s Kicked\n%s Kicked\n%s Kicked\n%s Kicked\n%s Kicked", ExampleTable[1], ExampleTable[2], ExampleTable[3], ExampleTable[4], ExampleTable[5])
    end
end