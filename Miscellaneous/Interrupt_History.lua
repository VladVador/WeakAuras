--- WeakAura Strings ---
d0KgtaGisPlrkgfO6uGyvaL0Refvzwk4wqs7csmmIOJjvwgu5zePAAIQ6AIcBtuKVrKsJtuuENuLO5jkQQ7rugOOOsheklKiipuQIjcu5IIQSrrLpQKCsPQSsi1lLKzse6Msvc7Ki5NsvQHcKLcuQNQOMkiDvrjBLiO6RqvVLqZfO4UeSxi(RidM6WQyXav9yvAYQQllSzq5Zsv1OvItlXQjc8Aj1SbCBfz3KQFRqdxjvlxPEUuMojxNOA7svsFNiOmELuoVQSErrfVhOeZxuQ7tKI9JgPdbkY8eY8hz(Jafzg2OUAUK5eisHdhY8A9ggSwOqKktDsIm)lT1bopOXAkKznxK5R8MACcASMczgMC9RQmQdhcrttttxGrJhlHfQLxlvvU1Xpbc48In9r)tVkuqltbCiOIhlHfQLxlvvU1Xpbc48ITyNGiob6mFz0zssA1sOt000000000fy04XsyHA51svLBD8tGaoVylItqStGwMmAjPvlHorttttttttttttVdL8TonSX90rbxlCnDOadcD23C500ORk364RDGEvOGwMc4qqfpwclulVwQQCRJFceW5fBXobrCcd04XsyHA51svLBD8tGaoVyl2ji2jaHOPPPPPPPPdGwuGrJhlHfQLxlvvU1Xpbc48ITO0fe7eOLjJwsA1sOt00000000000007qjFRtdBCpDuW1cxthkWGqN9nxonn6QYTo(GrhUMouGbHo7BUCAA0vLBD81oqVkuqltbCiOIhlHfQLxlvvU1Xpbc48ITiobrCcd04XsyHA51svLBD8tGaoVylItqStyGEvOGwMc4qqfpwclulVwQQCRJFceW5fBXobrCcd04XsyHA51svLBD8tGaoVyl2ji2jaHOPPPPPPPPdGwuGrJhlHfQLxlvvU1Xpbc48ITy(cIDc0YKrljTAj0jAAAAAAAAAAAA6DOKV1PHnUNok4AHRPdfyqOZ(MlNMgDv5whFWOdxthkWGqN9nxonn6QYTo(GrhUMouGbHo7BUCAA0vLBD81oqVkuqltbCiOIhlHfQLxlvvU1Xpbc48ITO0feXjmqJhlHfQLxlvvU1Xpbc48ITO0fe7egOxfkOLPaoeuXJLWc1YRLQk364NabCEXweNGioHbA8yjSqT8APQYTo(jqaNxSfXji2jmqVkuqltbCiOIhlHfQLxlvvU1Xpbc48ITyNGioHbA8yjSqT8APQYTo(jqaNxSf7ee7eGq000000000bqlkWOXJLWc1YRLQk364NabCEXwmdbXobAzYOLKwTe6ennnnnnnnnnnn9ouY360Wg3thfCTW10Hcmi0zFZLttJUQCRJpy0HRPdfyqOZ(MlNMgDv5whFWOdxthkWGqN9nxonn6QYTo(GrhUMouGbHo7BUCAA0vLBD81oqVkuqltbCiOIhlHfQLxlvvU1Xpbc48ITy(cI4egOXJLWc1YRLQk364NabCEXwmFbXoHb6vHcAzkGdbv8yjSqT8APQYTo(jqaNxSfLUGioHbA8yjSqT8APQYTo(jqaNxSfLUGyNWa9QqbTmfWHGkESewOwETuv5wh)eiGZl2I4eeXjmqJhlHfQLxlvvU1Xpbc48ITiobXoHb6vHcAzkGdbv8yjSqT8APQYTo(jqaNxSf7eeXjmqJhlHfQLxlvvU1Xpbc48ITyNGyNaeIMMMMMMMMoaAbrttttttttttttVdL8TonSX90rbxlCnDOadcD23C500ORk364dgD4A6qbge6SV5YPPrxvU1Xhm6W10Hcmi0zFZLttJUQCRJpy0HRPdfyqOZ(MlNMgDv5whFWOdxthkWGqN9nxonn6QYTo(AhOxfkOLPaoeuXJLWc1YRLQk364NabCEXwmdbrCcd04XsyHA51svLBD8tGaoVylMHGyNWa9QqbTmfWHGkESewOwETuv5wh)eiGZl2I5liItyGgpwclulVwQQCRJFceW5fBX8fe7egOxfkOLPaoeuXJLWc1YRLQk364NabCEXwu6cI4egOXJLWc1YRLQk364NabCEXwu6cIDcd0Rcf0YuahcQ4XsyHA51svLBD8tGaoVylItqeNWanESewOwETuv5wh)eiGZl2I4ee7egOxfkOLPaoeuXJLWc1YRLQk364NabCEXwStqeNWanESewOwETuv5wh)eiGZl2IDcIDcqiAAAAAAAA6q)t00000bqliAAAAAAAAAGX7bGoV1otRdeqpGhiOLrdw0k1zk60oqRvQZuGt7aTwPotH01oqRvQZuKV2bATsDMIm0kn9sIMMMMMMMMEhk5BDAyJ7PJcUwnn6QYTo(GrxtJUQCRJpy010ORk364dgDnn6QYTo(GrxtJUQCRJV2b68w7mToqa9aEGqStyGoV1otRdeqpGhieXjmqN3ANP1bcOhWdeIsxyGoV1otRdeqpGhieZxyGoV1otRdeqpGhieZqacrtttth6FIo0)iZVEddwluisHAMjjY8o6VmQd9TEGmRI1uiZf9IkDhNwhiuXhrQoKzjqEtvG9qM7jpPGMhyJm3cayGgl6kKzjuVHcT39cjMxoOiZQDP)(JncuKz1B9az(kVPgNqMVYBQXPK6TEGmh9AORqM)Y3hvzuhzUldK5R8MACsQZuGmJkQ9PRI9w(6Q4td(hnwOwEn6mx68aKRhiZx5n14eYmm56xvzuhEAinmfT2P)yinKgAJY33qQZumKgsd)OPwLvFGdcrttttxGrpfT2P)GwMmATZGYtIsm1NuqZdSb7Sabvl9r)td)hn1QS6dC0YKrNLErTkR(ahCTWgVYBAHqpUPH)JMAvw9boAzYOZsVOwLvFGdU21boVyRo7(dLwi0h9pn8S0lQvz1h4GRf24vEtleAzYO1la0JB6S0lQ(A52Lq)dx76aNxS1oqRf24vEtleAzYOvB5beiqOvlHorttttttttt000000000fy04XsyHA51svLBD8ts80uRYQpWrltgTEbGECtJhlHfQLxlvvU1XpjXttTkR(ahnZwg9pAQvz1h4OvlHorttttttttttttJhlHfQLxlvvU1Xpbc48InTmAWI0q0000000000000Wg30fzDdzq)hjAAAAAAAAAAAAAAAAA8yjSqT8APQYTo(jqaNxSflc0YOblsdrttttttttttttttttdBCtlbY6gWr)hjAAAAAAAAAAAAAAAAAAAAA8yjSqT8APQYTo(jqaNxSflcIsGaTmAjjAAAAAAAAAAAAAAAA6q)t0000000000000H(NOPPPPPPPPd9prttttttttJhlHfQLxlvvU1XpjXttTkR(ahTm6F0uRYQpWr000000000ennnnnnnnnSXnDrwgd4gqTJ(ps0000000000000Wg30sGmCdDdO2r)hjAAAAAAAAAAAAAAAAA8yjSqT8APQYTo(jqaNxSflcIsGaTmA8yjSqT8APQYTo(jqaNxSflO2jikbcennnnnnnnnnnnDO)jAAAAAAAA6q)t000000000ennnnnnnnnW49aqdc48IDpaNwRNrGXnrttttttttxGrNLErL3ALMQbVnkFFdPotbeAzYOvB5bTAj0jAAAAAAAAAAAAAqaNxS7b40A9mcmUPLrd2y9bUupseBEo1tVLyVb7zXwaexfCCdzPxu9aCAn4Tr57Bi1zkGarGOPPPPPPPPdGwq0000000000000GaoVy3dWP16zeyCtlJgSSPLrljkzijUb6(PLrljkzijUbAWtlJwsuYqsCsdrtttttttth6FIMMMMMMMMgpwclulVwQQCRJFceW5fBXobrCc0YOxfkOLPaoeIMMMMMMMMgy8EaO1ptbTm62O89nK6mf0h9pDtTl69Js)n5GhEBu((gsDMIbATAqvKst2czEAhO1Qfc94MUnkFFdPotrVKOPPPPPPPPXJLWc1YRLQk364NabCEXwStqStGwgnSX90rbxRgjXTMgjXTMgjXTMMw2BTd0GaoVy3dWP16zeyCJYgSIlJmgObbCEXUhGtR1ZiW4gL(bR4YiJbAqaNxS7b40A9mcmUrb8GvCzKXaT(zkGq0000000007qjFRtR2YdIMMMMo0)ennnn9ouY360WoaTGOd9pYC0RHUQHm3tV7fsimOjj27vP8KWZtkOPSKkxFseAEGDEGdz(kVPgNslLFGmRktXhrHmx(iZ4XsyHA51svLBD8rMLWkF1csUmYuMYptzw(5NV07KwCzwMYhbgQ5NbYSU8jO7s)9h7gIuDiZlrP)ffsoPvAZxYmYu(skP0kjUmLPmlZqGHA(zcz(OFxg3Ggl6kKzjMxoOiZaJNpcuKz5TiPh9ASrapYS6ae6keOiZtYbufeOikefY8Vadw5khq9qGImpjhqvqGIOquiZ7rGabkY8KCavbbkIcrHmd7CvLrDeOiZtYbufeOikefYS8wKUJtG)OqKqiZ7ZnqGImpjhqvqGIOquikK5Z)xuLr9dqsTl93FSBiqruikK5gYmou6qrsu6KwK5EfrQU8X1HOqqaa

--[[
Author : Aethys
Version : 1.3 (02.16.2015)
Readme :
	WeakAura to display the 5 last interrupters of your target or your focus if it's an ennemy.
]]--


--- Actions\On Init\Custom ---

-- Init


--- Trigger\Custom Trigger ---

-- Trigger [COMBAT_LOG_EVENT_UNFILTERED]
function(_,_,message,_,_,sourceName,_,_,destGUID)
    if message == "SPELL_INTERRUPT" and (destGUID == UnitGUID("focus") or (destGUID == UnitGUID("playertarget") and (UnitGUID("focus") == nil or UnitIsFriend("player", "focus") == true))) then
        
        if WA_Aethys_Kicked_LastGUID == nil or WA_Aethys_Kicked_LastGUID ~= destGUID then
            WA_Aethys_Kicked_Player = {}
            for i=1,5 do
                WA_Aethys_Kicked_Player[i] = {}
                for j=1,2 do
                    WA_Aethys_Kicked_Player[i][j] = 0
                end
            end
        end
        WA_Aethys_Kicked_LastGUID = destGUID
        
        for i=5,2,-1 do
            for j=2,1,-1 do
                WA_Aethys_Kicked_Player[i][j] = WA_Aethys_Kicked_Player[i-1][j]
            end
        end
        
        local PlayerClassColor
        if UnitExists(sourceName) == true then
            PlayerClassColor = RAID_CLASS_COLORS[select(2,UnitClass(sourceName))]
        else
            PlayerClassColor = {r = 0.502, g = 0.502, b = 0.502}
        end
        WA_Aethys_Kicked_Player[1][2] = GetTime()
        local name = sourceName and string.gsub(sourceName, "%-[^|]+", "") or sourceName;
        WA_Aethys_Kicked_Player[1][1] = format("%02x%02x%02x%s|r", PlayerClassColor.r*255, PlayerClassColor.g*255, PlayerClassColor.b*255, name)
        return true
    end
    return false
end


--- Display\Custom Function ---

-- Refresh [Every Frame]
function()
    if WA_Aethys_Kicked_Player and GetTime()-WA_Aethys_Kicked_Player[1][2] <= 60 then
        if WA_Aethys_Kicked_Player[2][1] == 0 then
            return format("(%1.f) |cFF%s Kicked", GetTime()-WA_Aethys_Kicked_Player[1][2], WA_Aethys_Kicked_Player[1][1])
        elseif WA_Aethys_Kicked_Player[3][1] == 0 then
            return format("(%1.f) |cFF%s Kicked\n(%1.f) |cFF%s Kicked", GetTime()-WA_Aethys_Kicked_Player[2][2], WA_Aethys_Kicked_Player[2][1], GetTime()-WA_Aethys_Kicked_Player[1][2], WA_Aethys_Kicked_Player[1][1])
        elseif WA_Aethys_Kicked_Player[4][1] == 0 then
            return format("(%1.f) |cFF%s Kicked\n(%1.f) |cFF%s Kicked\n(%1.f) |cFF%s Kicked", GetTime()-WA_Aethys_Kicked_Player[3][2], WA_Aethys_Kicked_Player[3][1], GetTime()-WA_Aethys_Kicked_Player[2][2], WA_Aethys_Kicked_Player[2][1], GetTime()-WA_Aethys_Kicked_Player[1][2], WA_Aethys_Kicked_Player[1][1])
        elseif WA_Aethys_Kicked_Player[5][1] == 0 then
            return format("(%1.f) |cFF%s Kicked\n(%1.f) |cFF%s Kicked\n(%1.f) |cFF%s Kicked\n(%1.f) |cFF%s Kicked", GetTime()-WA_Aethys_Kicked_Player[4][2], WA_Aethys_Kicked_Player[4][1], GetTime()-WA_Aethys_Kicked_Player[3][2], WA_Aethys_Kicked_Player[3][1], GetTime()-WA_Aethys_Kicked_Player[2][2], WA_Aethys_Kicked_Player[2][1], GetTime()-WA_Aethys_Kicked_Player[1][2], WA_Aethys_Kicked_Player[1][1])
        else
            return format("(%1.f) |cFF%s Kicked\n(%1.f) |cFF%s Kicked\n(%1.f) |cFF%s Kicked\n(%1.f) |cFF%s Kicked\n(%1.f) |cFF%s Kicked", GetTime()-WA_Aethys_Kicked_Player[5][2], WA_Aethys_Kicked_Player[5][1], GetTime()-WA_Aethys_Kicked_Player[4][2], WA_Aethys_Kicked_Player[4][1], GetTime()-WA_Aethys_Kicked_Player[3][2], WA_Aethys_Kicked_Player[3][1], GetTime()-WA_Aethys_Kicked_Player[2][2], WA_Aethys_Kicked_Player[2][1], GetTime()-WA_Aethys_Kicked_Player[1][2], WA_Aethys_Kicked_Player[1][1])
        end
    else
        local ExampleTable = {"Name1", "Name2", "Name3", "Name4", "Name5"};
        return format("%s Kicked\n%s Kicked\n%s Kicked\n%s Kicked\n%s Kicked", ExampleTable[1], ExampleTable[2], ExampleTable[3], ExampleTable[4], ExampleTable[5])
    end
end